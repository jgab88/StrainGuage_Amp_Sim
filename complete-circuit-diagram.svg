<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <!-- Background -->
  <rect width="800" height="500" fill="#f8f8f8"/>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Strain Gauge Amplifier with 4-20mA Output</text>
  
  <!-- Stage 1: Wheatstone Bridge -->
  <rect x="50" y="80" width="200" height="140" fill="#e6f7ff" stroke="#0099cc" stroke-width="2" rx="5"/>
  <text x="150" y="100" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Wheatstone Bridge</text>
  
  <!-- Bridge components -->
  <line x1="100" y1="120" x2="100" y2="180" stroke="#000" stroke-width="2"/>
  <line x1="200" y1="120" x2="200" y2="180" stroke="#000" stroke-width="2"/>
  <line x1="100" y1="120" x2="200" y2="120" stroke="#000" stroke-width="2"/>
  <line x1="100" y1="180" x2="200" y2="180" stroke="#000" stroke-width="2"/>
  
  <!-- Resistors -->
  <rect x="90" y="130" width="20" height="10" fill="#fff" stroke="#000" stroke-width="1"/>
  <rect x="190" y="130" width="20" height="10" fill="#fff" stroke="#000" stroke-width="1"/>
  <rect x="90" y="160" width="20" height="10" fill="#fff" stroke="#000" stroke-width="1"/>
  <rect x="190" y="160" width="20" height="10" fill="#fff" stroke="#000" stroke-width="1"/>
  <text x="70" y="135" font-family="Arial" font-size="12" text-anchor="end">350Ω</text>
  <text x="230" y="135" font-family="Arial" font-size="12" text-anchor="start">350Ω</text>
  <text x="70" y="165" font-family="Arial" font-size="12" text-anchor="end">350Ω</text>
  <text x="230" y="165" font-family="Arial" font-size="12" text-anchor="start">R_Gauge</text>
  
  <!-- Power for bridge -->
  <line x1="150" y1="80" x2="150" y2="120" stroke="#000" stroke-width="2"/>
  <circle cx="150" cy="80" r="5" fill="#f00"/>
  <text x="160" y="75" font-family="Arial" font-size="12" text-anchor="start">+5V</text>
  
  <!-- Ground -->
  <line x1="150" y1="180" x2="150" y2="200" stroke="#000" stroke-width="2"/>
  <line x1="140" y1="200" x2="160" y2="200" stroke="#000" stroke-width="2"/>
  <line x1="145" y1="205" x2="155" y2="205" stroke="#000" stroke-width="2"/>
  <line x1="148" y1="210" x2="152" y2="210" stroke="#000" stroke-width="2"/>
  
  <!-- Output connections -->
  <line x1="100" y1="150" x2="70" y2="150" stroke="#000" stroke-width="2"/>
  <line x1="200" y1="150" x2="230" y2="150" stroke="#000" stroke-width="2"/>
  <text x="65" y="145" font-family="Arial" font-size="12" text-anchor="end">V+</text>
  <text x="235" y="145" font-family="Arial" font-size="12" text-anchor="start">V-</text>
  
  <!-- Stage 2: INA333 -->
  <rect x="280" y="80" width="180" height="140" fill="#e6ffe6" stroke="#00cc00" stroke-width="2" rx="5"/>
  <text x="370" y="100" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">INA333 Stage</text>
  
  <!-- INA333 symbol -->
  <polygon points="330,130 330,170 380,150" fill="#fff" stroke="#000" stroke-width="2"/>
  <text x="355" y="155" font-family="Arial" font-size="12" text-anchor="middle">INA333</text>
  
  <!-- INA333 connections -->
  <line x1="70" y1="150" x2="330" y2="130" stroke="#000" stroke-width="2" stroke-dasharray="4"/>
  <line x1="230" y1="150" x2="330" y2="170" stroke="#000" stroke-width="2" stroke-dasharray="4"/>
  <line x1="380" y1="150" x2="430" y2="150" stroke="#000" stroke-width="2"/>
  
  <!-- REF pin and power -->
  <line x1="355" y1="180" x2="355" y2="200" stroke="#000" stroke-width="2"/>
  <text x="365" y="195" font-family="Arial" font-size="12" text-anchor="start">REF=2.5V</text>
  <line x1="355" y1="120" x2="355" y2="100" stroke="#000" stroke-width="2"/>
  <text x="365" y="115" font-family="Arial" font-size="12" text-anchor="start">+5V</text>
  
  <!-- Stage 3: OPA336 -->
  <rect x="460" y="80" width="160" height="140" fill="#fff0e6" stroke="#ff9933" stroke-width="2" rx="5"/>
  <text x="540" y="100" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">OPA336 Stage</text>
  
  <!-- OPA336 symbol -->
  <polygon points="500,130 500,170 550,150" fill="#fff" stroke="#000" stroke-width="2"/>
  <text x="525" y="155" font-family="Arial" font-size="12" text-anchor="middle">OPA336</text>
  
  <!-- OPA336 connections -->
  <line x1="430" y1="150" x2="500" y2="150" stroke="#000" stroke-width="2"/>
  <line x1="550" y1="150" x2="600" y2="150" stroke="#000" stroke-width="2"/>
  
  <!-- Feedback resistor -->
  <line x1="550" y1="150" x2="550" y2="120" stroke="#000" stroke-width="2"/>
  <line x1="550" y1="120" x2="500" y2="120" stroke="#000" stroke-width="2"/>
  <line x1="500" y1="120" x2="500" y2="130" stroke="#000" stroke-width="2"/>
  <rect x="520" y="110" width="20" height="10" fill="#fff" stroke="#000" stroke-width="1"/>
  <text x="530" y="105" font-family="Arial" font-size="12" text-anchor="middle">5kΩ</text>
  
  <!-- Ground resistor -->
  <line x1="500" y1="170" x2="500" y2="200" stroke="#000" stroke-width="2"/>
  <rect x="490" y="180" width="20" height="10" fill="#fff" stroke="#000" stroke-width="1"/>
  <text x="480" y="185" font-family="Arial" font-size="12" text-anchor="end">10kΩ</text>
  <line x1="500" y1="200" x2="500" y2="210" stroke="#000" stroke-width="2"/>
  <line x1="490" y1="210" x2="510" y2="210" stroke="#000" stroke-width="2"/>
  <line x1="495" y1="215" x2="505" y2="215" stroke="#000" stroke-width="2"/>
  <line x1="498" y1="220" x2="502" y2="220" stroke="#000" stroke-width="2"/>
  
  <!-- Stage 4: V-to-I Converter -->
  <rect x="630" y="80" width="150" height="260" fill="#f0e6ff" stroke="#9933ff" stroke-width="2" rx="5"/>
  <text x="705" y="100" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">V-to-I Converter</text>
  <text x="705" y="120" font-family="Arial" font-size="12" text-anchor="middle">(4-20mA Output)</text>
  
  <!-- V-to-I components -->
  <polygon points="670,170 670,210 720,190" fill="#fff" stroke="#000" stroke-width="2"/>
  <text x="695" y="195" font-family="Arial" font-size="12" text-anchor="middle">OPA336</text>
  
  <!-- Transistor -->
  <circle cx="735" cy="190" r="15" fill="#fff" stroke="#000" stroke-width="2"/>
  <line x1="720" y1="190" x2="725" y2="190" stroke="#000" stroke-width="2"/>
  <line x1="735" y1="175" x2="735" y2="205" stroke="#000" stroke-width="2"/>
  <line x1="735" y1="175" x2="750" y2="160" stroke="#000" stroke-width="2"/>
  <line x1="735" y1="205" x2="750" y2="220" stroke="#000" stroke-width="2"/>
  <text x="755" y="190" font-family="Arial" font-size="12" text-anchor="start">2N2222</text>
  
  <!-- Resistors and connections -->
  <line x1="600" y1="150" x2="650" y2="150" stroke="#000" stroke-width="2" stroke-dasharray="4"/>
  <line x1="650" y1="150" x2="650" y2="170" stroke="#000" stroke-width="2"/>
  <line x1="650" y1="170" x2="670" y2="170" stroke="#000" stroke-width="2"/>
  <line x1="720" y1="190" x2="735" y2="190" stroke="#000" stroke-width="2"/>
  
  <!-- Sense resistor -->
  <line x1="750" y1="220" x2="750" y2="240" stroke="#000" stroke-width="2"/>
  <rect x1="740" y1="240" x2="760" y2="250" fill="#fff" stroke="#000" stroke-width="1"/>
  <text x1="770" y1="245" font-family="Arial" font-size="12" text-anchor="start">50Ω</text>
  <line x1="750" y1="250" x2="750" y2="270" stroke="#000" stroke-width="2"/>
  <line x1="740" y1="270" x2="760" y2="270" stroke="#000" stroke-width="2"/>
  <line x1="745" y1="275" x2="755" y2="275" stroke="#000" stroke-width="2"/>
  <line x1="748" y1="280" x2="752" y2="280" stroke="#000" stroke-width="2"/>
  
  <!-- Feedback connection -->
  <line x1="750" y1="220" x2="670" y2="210" stroke="#000" stroke-width="2" stroke-dasharray="4"/>
  
  <!-- Power supply (24V) -->
  <line x1="750" y1="120" x2="750" y2="160" stroke="#000" stroke-width="2"/>
  <circle cx="750" cy="120" r="5" fill="#f00"/>
  <text x="760" y="125" font-family="Arial" font-size="12" text-anchor="start">+24V</text>
  
  <!-- PLC connection -->
  <line x1="750" y1="160" x2="780" y2="160" stroke="#000" stroke-width="2"/>
  <rect x="780" y="150" width="40" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
  <text x="800" y="165" font-family="Arial" font-size="12" text-anchor="middle">PLC</text>
  <line x1="820" y1="160" x2="830" y2="160" stroke="#000" stroke-width="2"/>
  <line x1="830" y1="160" x2="830" y2="280" stroke="#000" stroke-width="2"/>
  <line x1="750" y1="280" x2="830" y2="280" stroke="#000" stroke-width="2"/>
  
  <!-- Output labels -->
  <text x="400" y="240" font-family="Arial" font-size="14" text-anchor="middle">Output Signal Ranges:</text>
  <text x="150" y="270" font-family="Arial" font-size="12" text-anchor="middle">Strain Gauge: 350Ω ±10%</text>
  <text x="370" y="270" font-family="Arial" font-size="12" text-anchor="middle">INA333 Output: ~1.75V to 2.5V</text>
  <text x="540" y="270" font-family="Arial" font-size="12" text-anchor="middle">OPA336 Output: ~2.6V to 3.8V</text>
  <text x="710" y="320" font-family="Arial" font-size="12" text-anchor="middle">Current Output: 4-20mA</text>
</svg>
